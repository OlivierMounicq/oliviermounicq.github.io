<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div class="mainDiv">

<h1>Lambda Calculus via C# (4) Tuple and Signed Numeral</h1>

<p>Besides modeling values like Boolean and numeral, anonymous function can also model data structures. In Church encoding, Church pair is an approach to use functions to represent a tuple of 2 items.</p>
<h1>Church pair (2-tuple)</h1>
<p>A tuple can be constructed with its first item x, its second item y, and a function f:</p>
<pre class="code"><span style="color: black;">CreateTuple := λx.λy.λf.f x y</span></pre>
<p>So a tuple is can be created by partially applying CreateTuple with 2 items x and y:</p>
<pre class="code"><span style="color: black;">Tuple := CreateTuple x y
       ≡ (λx.λy.λf.f x y) x y
       ≡ λf.f x y</span></pre>
<p>So a tuple is a higher-order function, which accept a function f, and apply it with its 2 items. So f accepts 2 arguments, it is in the form of λx.λy.E.</p>
<p>To get the tuple’s first item x, just apply the tuple function with a specific function f, where f simply accepts 2 items and returns the first item:</p>
<pre class="code">  <span style="color: black;">Tuple (λx.λy.x)
≡ (λf.f x y) (λx.λy.x)
≡ (λx.λy.x) x y
≡ x</span></pre>
<p>Similarly, to get the tuple’s second item y, just apply tuple function with a specific function f, where f simply accepts 2 items and returns the first item:</p>
<pre class="code">  <span style="color: black;">Tuple (λx.λy.y)
≡ (λf.f x y) (λx.λy.y)
≡ (λx.λy.y) x y
≡ y</span></pre>
<p>So the following Item1 function is defined to accept a tuple, apply the tuple function with function λx.λy.x, and return the tuple’s first item:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">Item1 := λt.t (λx.λy.x)</span></pre>
<p>Again, this is how it works:</p>
<pre class="code">  <span style="color: black;">Item1 (CreateTuple x y)
≡ (λt.t (λx.λy.x)) (CreateTuple x y)
≡ (λt.t (λx.λy.x)) (λf.f x y)
≡ (λf.f x y) (λx.λy.x)
≡ (λx.λy.x) x y
≡ x</span></pre>
<p>And Item2 function can ne defined in the same way to get the tuple’s second item:</p>
<pre class="code"><span style="color: black;">Item2 := λt.t (λx.λy.y)</span></pre>
<p>Notice functions λx.λy.x and λx.λy.y can be alpha converted to λt.λf.t and λt.λf.f, which are just Church Boolean True and False. So Item1 and Item2 can be defined as:</p>
<pre class="code"><span style="color: black;">Item1 := λt.t True
Item2 := λt.t False</span></pre>
<p>To implement tuple in C#, its function type needs to be identified. The tuple function accepts argument f, which is either function True of function False, so f is of function type Boolean. In the body of tuple function, f is applied, and f returns dynamic. So tuple virtually is of function type Boolean -&gt; dynamic:</p>
<pre class="code"><span style="color: blue;">using static </span><span style="color: #2b91af;">ChurchBoolean</span><span style="color: black;">;

</span><span style="color: green;">// Tuple is the alias of (dynamic -&gt; dynamic -&gt; dynamic) -&gt; dynamic.
</span><span style="color: blue;">public delegate dynamic </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: blue;">out </span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: blue;">out </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;(</span><span style="color: #2b91af;">Boolean </span><span style="color: black;">f);

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;
{
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;&gt;&gt;
        Create = item1 =&gt; item2 =&gt; f =&gt; f(item1)(item2);

    </span><span style="color: green;">// Item1 = tuple =&gt; tuple(True)
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">T1</span><span style="color: black;">&gt;
        Item1 = tuple =&gt; (</span><span style="color: #2b91af;">T1</span><span style="color: black;">)(</span><span style="color: blue;">object</span><span style="color: black;">)tuple(True);</span><span style="color: #00008b;">

    </span><span style="color: green;">// Item2 = tuple =&gt; tuple(False)
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;
        Item2 = tuple =&gt; (</span><span style="color: #2b91af;">T2</span><span style="color: black;">)(</span><span style="color: blue;">object</span><span style="color: black;">)tuple(False);</span><span style="color: #00008b;">
</span><span style="color: black;">}</span></pre>
<p>There are type conversions in Item1/Item2 functions. At compiled time, the tuple function returns dynamic, and at runtime it actually it calls True/False function to return either item1 or item2 . So the type conversions are always safe. Also notice here tuple function’s return value cannot be directly converted to T1 or T2, because of a <a href="http://stackoverflow.com/questions/37392566/" target="_blank">bug of C# runtime binding layer</a>. The workaround is to convert dynamic to object first, then convert to T1 or T2.</p>
<p>The following are the extension methods for convenience:</p>
<pre class="code"><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">TupleExtensions
</span><span style="color: black;">{
    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">T1 </span><span style="color: black;">Item1&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;.Item1(tuple);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">T2 </span><span style="color: black;">Item2&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;.Item2(tuple);
}</span></pre>
<p>For example, a point can be a tuple of 2 numerals:</p>
<pre class="code"><span style="color: blue;">internal static void </span><span style="color: black;">Point(</span><span style="color: #2b91af;">Numeral </span><span style="color: black;">x, </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">y)
{
    </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt; point1 = </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(x)(y);
    </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">x1 = point1.Item1();
    </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">y1 = point1.Item1();

    </span><span style="color: green;">// Move up.
    </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">y2 = y1.Increase();
    </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt; point2 = </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(x1)(y2);
}</span></pre>
<h2>Tuple operators</h2>
<p>The Swap function accepts a tuple (x, y), swaps its first item and second item, and returns a new tuple (y, x):</p>
<pre class="code"><span style="color: black;">Swap := λt.CreateTuple (Item2 t)(Item1 t)</span></pre>
<p>Apparently, Swap is of function type Tuple&lt;T1, T2&gt; -&gt; Tuple&lt;T2, T1&gt;:</p>
<pre class="code"><span style="color: green;">// Swap = tuple =&gt; Create(tuple.Item2())(tuple.Item1())
</span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T1</span><span style="color: black;">&gt;&gt;
    Swap = tuple =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T1</span><span style="color: black;">&gt;.Create(tuple.Item2())(tuple.Item1());</span></pre>
<p>The Shift function accepts a tuple (x, y) and a function f, and returns a new tuple (y, f y):</p>
<pre class="code"><span style="color: black;">Shift := λf.λt.CreateTuple (Item2 t) (f (Item2 t))</span></pre>
<p>Here assume the argument tuple (x, y) is of type Tuple&lt;T1, T2&gt;, regarding f is applied with y, assume f returns TResult type, then f is of function type T2 -&gt; TResult, so that the returned new tuple (y, f y) is of type Tuple&lt;T2, TResult&gt;. As a result, Shift is of type Tuple&lt;T1, T2&gt; -&gt; (T2 -&gt; TResult) -&gt; Tuple&lt;T2, TResult&gt;:</p>
<pre class="code"><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;
{
    </span><span style="color: green;">// Shift = f =&gt; tuple =&gt; Create(tuple.Item2())(f(tuple.Item1()))
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;&gt;&gt;
        Shift = f =&gt; tuple =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;.Create(tuple.Item2())(f(tuple.Item2()));
}</span></pre>
<p>And their extension methods:</p>
<pre class="code"><span style="color: blue;">public static </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T1</span><span style="color: black;">&gt; Swap&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;.Swap(tuple);

</span><span style="color: blue;">public static </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt; Shift&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt; tuple, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt; f) =&gt;
    </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">TResult</span><span style="color: black;">&gt;.Shift(f)(tuple);</span></pre>
<p>Here Shift function can be used to define the Subtract function for Church numerals. Remember a Church numeral n can be viewed as to apply Increase n times from 0:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">  n Increase 0
≡ n</span></pre>
<p>Applying Shift with Increase and a tuple of Church numerals, it returns a new tuple of Church numerals, so this application can repeat forever:</p>
<pre class="code">  <span style="color: black;">Shift Increase (0, 0)
≡ (0, Increase 0)
≡ (0, 1)

  Shift Increase (0, 1)
≡ (1, Increase 1)
≡ (1, 2)

  Shift Increase (1, 2)
≡ (2, Increase 2)
≡ (2, 3)

...</span></pre>
<p>In another word, partially applying Shift with Increase is a function that can be repeatedly applied with a tuple of Church numerals:</p>
<pre class="code">  <span style="color: black;">(Shift Increase) (0, 0)                                       ≡ (Shift Increase)<sup>1</sup> (0, 0) ≡ 1 (Shift Increase) (0, 0)
≡ (0, 1)

  (Shift Increase) (0, 1)
≡ (Shift Increase) ((Shift Increase) (0, 0))
≡ (Shift Increase) ∘ (Shift Increase) (0, 0)                    ≡ (Shift Increase)<sup>2</sup> (0, 0) ≡ 2 (Shift Increase) (0, 0)
≡ (1, 2)

  (Shift Increase) (1, 2)
≡ (Shift Increase) ((Shift Increase) ∘ (Shift Increase) (0, 0))
≡ (Shift Increase) ∘ (Shift Increase) ∘ (Shift Increase) (0, 0) ≡ (Shift Increase)<sup>3</sup> (0, 0) ≡ 3 (Shift Increase) (0, 0)
≡ (2, 3)

...</span></pre>
<p>So generally:</p>
<pre class="code">  <span style="color: black;">n (Shift Increase) (0, 0)
≡ (n - 1, n)</span></pre>
<p>As a result, to decrease n to n – 1, just apply n with function (Shift Increase) and tuple (0, 0), get the result tuple (n – 1, n), and return its first item:</p>
<pre class="code">  <span style="color: black;">Item1 (n (Shift Increase) (0, 0))
≡ Item1 (n - 1, n)
≡ n - 1</span></pre>
<p>So Decrease can be defined as:</p>
<pre class="code"><span style="color: black;">Decrease := λn.Item1 (n (Shift Increase) (CreateTuple 0 0))</span></pre>
<p>And C#:</p>
<pre class="code"><span style="color: green;">// Decrease = n =&gt; n(tuple =&gt; tuple.Shift(Increase))(0, 0).Item1();
</span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt; Decrease = n =&gt;
    ((</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;)n
        (tuple =&gt; ((</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;)tuple).Shift(Increase))</span><span style="color: green;">
        </span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(Zero)(Zero)))
    .Item1();</span></pre>
<h1>N-tuple</h1>
<p>An easy way is to model n-tuple as a 2-tuple of the first value and a (n-1)-tuple of the rest values. A 3 tuple of values 1, 2, 3 can be represented by nested 2-tuples as (a, (b, c)), a 4-tuple of values 1, 2, 3, 4 can be represented by nested 2-tuples (1, (2, (3, 4))), etc., and a n tuple of values 1, 2, 3, …, n can be represented by nested 2 tuples (1, (2, (3, (…(n-1, n)…)))).&nbsp; For example, the following is the definition of 3 tuple:</p>
<pre class="code"><span style="color: black;">Create3Tuple := λx.λy.λz.CreateTuple x (CreateTuple y z)

3TupleItem1 := λt.Item1 t
3TupleItem2 := λt.Item1 (Item2 t)
3TupleItem3 := λt.Item2 (Item2 t)</span></pre>
<p>And in C#:</p>
<pre class="code"><span style="color: blue;">public delegate dynamic </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: blue;">out </span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: blue;">out </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: blue;">out </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;(</span><span style="color: #2b91af;">Boolean </span><span style="color: black;">f);

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;
{
    </span><span style="color: green;">// Create = item1 =&gt; item2 =&gt; item3 =&gt; Create(item1)(Create(item2)(item3))
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T3</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;&gt;&gt;&gt;
        Create = item1 =&gt; item2 =&gt; item3 =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;&gt;.Create(item1)(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;.Create(item2)(item3)));

    </span><span style="color: green;">// Item1 = tuple.Item1()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">T1</span><span style="color: black;">&gt;
        Item1 = tuple =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;&gt;(tuple).Item1();

    </span><span style="color: green;">// Item2 = tuple.Item2().Item1()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">T2</span><span style="color: black;">&gt;
        Item2 = tuple =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;&gt;(tuple).Item2().Item1();

    </span><span style="color: green;">// Item3 = tuple.Item2().Item2()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;
        Item3 = tuple =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;&gt;(tuple).Item2().Item2();
}

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">TupleExtensions
</span><span style="color: black;">{
    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">T1 </span><span style="color: black;">Item1&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;.Item1(tuple);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">T2 </span><span style="color: black;">Item2&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;.Item2(tuple);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">T3 </span><span style="color: black;">Item3&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt; tuple) =&gt; </span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">T1</span><span style="color: black;">, </span><span style="color: #2b91af;">T2</span><span style="color: black;">, </span><span style="color: #2b91af;">T3</span><span style="color: black;">&gt;.Item3(tuple);
}</span></pre>
<h1>Signed numeral</h1>
<p>With tuple, a signed numeral (integer) can be modeled by a pair of Church numerals (natural numbers), where the first item represents the positive value, and the second item represents the negative value:</p>
<pre class="code"><span style="color: black;">SignedNumeral := Tuple</span></pre>
<p>For example (1, 0) and (2, 1) models 1, (0, 2) and (1, 3) models –2, (0, 0) and (1, 1) models 0, etc.:</p>
<pre class="code"> <span style="color: black;">1 := (1, 0) ≡ (2, 1) ≡ (3, 2) ≡ (4, 3) ≡ ...
 0 := (0, 0) ≡ (1, 1) ≡ (2, 2) ≡ (3, 3) ≡ ...
-2 := (0, 2) ≡ (1, 3) ≡ (2, 4) ≡ (3, 5) ≡ ...</span></pre>
<p>In C#, the function type SignedNumeral is the same as Tuple, except SignedNumeral is not open generic type:</p>
<pre class="code"><span style="color: green;">// SignedNumeral is the alias of Tuple&lt;Numeral, Numeral&gt;.
</span><span style="color: blue;">public delegate dynamic </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">Boolean </span><span style="color: black;">f);</span></pre>
<p>Church numeral represents natural number. So Converting a Church numeral n to signed number is easy, just make it a tuple (n, 0):</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">Sign := λn.CreateTuple n 0</span></pre>
<p>To negate a signed numeral, just swap its positive value and negative value:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">Negate := Swap</span></pre>
<p>And it is straightforward to get the positive value and the negative value from a signed number:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">Positive := Item1
Negative := Item2</span></pre>
<p>Signed numeral like (4, 3), (3, 3), (3, 5) can be formatted to have at least one 0: (1, 0), (0, 0), (0, 2). For a signed number s represented by (p, n), If p &gt;= n, then it is (p - n, 0), otherwise it is (0, n – p):</p>
<pre class="code"><span style="color: black;">Format := λs.If (s<sub>p</sub> &gt;=  s<sub>n</sub>) (λx.(s<sub>p</sub> - s<sub>n</sub>, 0)) (λx.(0, s<sub>n</sub> - s<sub>p</sub>))</span></pre>
<p>Here S<sub>p</sub> is the positive value of s, and s<sub>n</sub> the the negative value of s.</p>
<p>The following are these function’s C# implementation, and the extension methods:</p>
<pre class="code"><span style="color: blue;">using static </span><span style="color: #2b91af;">ChurchBoolean</span><span style="color: black;">;
</span><span style="color: blue;">using static </span><span style="color: #2b91af;">ChurchNumeral</span><span style="color: black;">;</span><span style="color: black;">

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">ChurchSignedNumeral
</span><span style="color: black;">{
    </span><span style="color: green;">// Sign = n =&gt; (n, 0)
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;
        Sign = n =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(n)(Zero));

    </span><span style="color: green;">// Negate = signed =&gt; signed.Swap()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;
        Negate = signed =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;(signed).Swap());

    </span><span style="color: green;">// Positive = signed =&gt; signed.Item1()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;
        Positive = signed =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;(signed).Item1();

    </span><span style="color: green;">// Negative = signed =&gt; signed.Item2()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;
        Negative = signed =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">Tuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;(signed).Item2();

    </span><span style="color: green;">// Format = signed =&gt;
    //    If(positive &gt;= negative)
    //        (_ =&gt; (positive - negative, 0))
    //        (_ =&gt; (0, negative - positive))
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;
        Format = signed =&gt;
            If(signed.Positive().IsGreaterThanOrEqualTo(signed.Negative()))
                (_ =&gt; signed.Positive().Subtract(signed.Negative()).Sign())
                (_ =&gt; signed.Negative().Subtract(signed.Positive()).Sign().Negate());
}

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">SignedNumeralExtensions
</span><span style="color: black;">{
    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Sign(</span><span style="color: blue;">this </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">n) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Sign(n);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Negate(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Negate(signed);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">Positive(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Positive(signed);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">Numeral </span><span style="color: black;">Negative(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Negative(signed);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Format(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Format(signed);
}</span></pre>
<h2>Arithmetic operators</h2>
<p>Naturally, for signed numbers a, b:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">  a + b
≡ (a<sub>p</sub>, a<sub>n</sub>) + (b<sub>p</sub>, b<sub>n</sub>)
≡ (a<sub>p</sub> - a<sub>n</sub>) + (b<sub>p</sub> - b<sub>n</sub>)
≡ (a<sub>p</sub> + b<sub>p</sub>, a<sub>n</sub> + b<sub>n</sub>)

  a - b
≡ (a<sub>p</sub>, a<sub>n</sub>) - (b<sub>p</sub>, b<sub>n</sub>)
≡ (a<sub>p</sub> - a<sub>n</sub>) - (b<sub>p</sub> - b<sub>n</sub>)
≡ (a<sub>p</sub> + b<sub>n</sub>, a<sub>n</sub> + b<sub>p</sub>)

  a * b
≡ (a<sub>p</sub>, a<sub>n</sub>) * (b<sub>p</sub>, b<sub>n</sub>)
≡ (a<sub>p</sub> - a<sub>n</sub>) * (b<sub>p</sub> - b<sub>n</sub>)
≡ (a<sub>p</sub> * b<sub>p</sub> + a<sub>n</sub> * b<sub>n</sub>, a<sub>p</sub> * b<sub>n</sub> + a<sub>n</sub> * b<sub>p</sub>)

  a / b
≡ (a<sub>p</sub>, a<sub>n</sub>) / (b<sub>p</sub>, b<sub>n</sub>)
≡ (a<sub>p</sub> - a<sub>n</sub>) / (b<sub>p</sub> - b<sub>n</sub>)
≡ (a<sub>p</sub> / b<sub>p</sub> + a<sub>n</sub> / b<sub>n</sub>, a<sub>p</sub> / b<sub>n</sub> + a<sub>n</sub> / b<sub>p</sub>)</span></pre>
<p>So in lambda calculus:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">AddSigned := λa.λb.Format (CreateTuple (a<sub>p</sub> + b<sub>p</sub>) (a<sub>n</sub> + b<sub>n</sub>))
SubtractSigned := λa.λb.Format (CreateTuple (a<sub>p</sub> + b<sub>n</sub>) (a<sub>n</sub> + b<sub>p</sub>))
MultiplySigned := λa.λb.Format (CreateTuple (a<sub>p</sub> * b<sub>p</sub> + a<sub>n</sub> * b<sub>n</sub>) (a<sub>p</sub> * b<sub>n</sub> + a<sub>n</sub> * b<sub>p</sub>))
</span></pre>
<p>Division is more tricky because a and b’s positive and negative values can be 0. In this case, just return 0 when dividing by 0:</p>
<pre class="code"><span style="background: #f5f5f5; color: black;">DivideByIgnoreZero := λa.λb.If (IsZero b) (λx.0) (λx.DivideBy a b)</span></pre>
<p>Here the DivideBy function for Church numeral is used. As fore mentioned, this DivideBy function is not well defined. It is temporarily used here and will be revisited later. So division can be defined as:</p>
<pre class="code"><span style="color: black;">DivideBySigned := λa.λb.Format (CreateTuple ((DivideByIgnoreZero a<sub>p</sub> b<sub>p</sub>) + (DivideByIgnoreZero a<sub>n</sub> b<sub>n</sub>)) ((DivideByIgnoreZero a<sub>p</sub> b<sub>n</sub>) + (DivideByIgnoreZero a<sub>n</sub> b<sub>p</sub>)))</span></pre>
<p>The following are the C# implementations and the extension methods:</p>
<pre class="code"><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">ChurchSignedNumeral
</span><span style="color: black;">{
    </span><span style="color: green;">// Add = a =&gt; b =&gt; (a.Positive() + b.Positive(), a.Negative() + b.Negative()).Format()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;&gt;
        Add = a =&gt; b =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create
                (a.Positive().Add(b.Positive()))
                (a.Negative().Add(b.Negative())))
            .Format();

    </span><span style="color: green;">// Subtract = a =&gt; b =&gt; (a.Positive() + b.Negative(), a.Negative() + b.Positive()).Format()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;&gt;
        Subtract = a =&gt; b =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create
                (a.Positive().Add(b.Negative()))
                (a.Negative().Add(b.Positive())))
            .Format();

    </span><span style="color: green;">// Multiply = a =&gt; b =&gt; (a.Positive() * b.Positive() + a.Negative() * b.Negative(), a.Positive() * b.Negative() + a.Negative() * b.Positive()).Format()
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;&gt;
        Multiply = a =&gt; b =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create
                (a.Positive().Multiply(b.Positive()).Add(a.Negative().Multiply(b.Negative())))
                (a.Positive().Multiply(b.Negative()).Add(a.Negative().Multiply(b.Positive()))))
            .Format();

    </span><span style="color: green;">// / = dividend =&gt; divisor =&gt; If(divisor.IsZero())(_ =&gt; 0)(_ =&gt; dividend.DivideBy(divisor))
    </span><span style="color: blue;">private static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;&gt;
        DivideByIgnoreZero = dividend =&gt; divisor =&gt;
            </span><span style="color: #2b91af;">ChurchBoolean</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.If(divisor.IsZero())
                (_ =&gt; Zero)
                (_ =&gt; dividend.DivideBy(divisor));

    </span><span style="color: green;">// DivideBy = dividend =&gt; divisor =&gt; (dividend.Positive() / divisor.Positive() + dividend.Negative() / divisor.Negative(), dividend.Positive() / divisor.Negative() + dividend.Negative() / divisor.Positive()).Format();
    </span><span style="color: blue;">public static readonly </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Func</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">, </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">&gt;&gt;
        DivideBy = dividend =&gt; divisor =&gt; </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create
                (DivideByIgnoreZero(dividend.Positive())(divisor.Positive()).Add(DivideByIgnoreZero(dividend.Negative())(divisor.Negative())))
                (DivideByIgnoreZero(dividend.Positive())(divisor.Negative()).Add(DivideByIgnoreZero(dividend.Negative())(divisor.Positive()))))
            .Format();
}

</span><span style="color: blue;">public static partial class </span><span style="color: #2b91af;">SignedNumeralExtensions
</span><span style="color: black;">{
    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Add(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a, </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Add(a)(b);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Subtract(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a, </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Subtract(a)(b);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">Multiply(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a, </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.Multiply(a)(b);

    </span><span style="color: blue;">public static </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">DivideBy(</span><span style="color: blue;">this </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">dividend, </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">divisor) =&gt; </span><span style="color: #2b91af;">ChurchSignedNumeral</span><span style="color: black;">.DivideBy(dividend)(divisor);
}</span></pre>
<p>And the following code demonstrate how these operators work:</p>
<pre class="code"><span style="color: black;">[</span><span style="color: #2b91af;">TestClass</span><span style="color: black;">]
</span><span style="color: blue;">public class </span><span style="color: #2b91af;">ChurchSignedNumeralTests
</span><span style="color: black;">{
    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">SignNegatePositiveNegativeTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed = 0U.Church().Sign();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());
        signed = signed.Negate();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());

        signed = 1U.Church().Sign();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(1U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());
        signed = signed.Negate();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(1U == signed.Negative().Unchurch());

        signed = 2U.Church().Sign();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(2U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());
        signed = signed.Negate();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(2U == signed.Negative().Unchurch());

        signed = 123U.Church().Sign();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(123U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());
        signed = signed.Negate();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(123U == signed.Negative().Unchurch());

        signed = </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(12U.Church())(23U.Church()));
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(12U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(23U == signed.Negative().Unchurch());
        signed = signed.Negate();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(23U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(12U == signed.Negative().Unchurch());
    }

    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">FormatWithZeroTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">signed = </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(12U.Church())(23U.Church()));
        signed = signed.Format();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(11U == signed.Negative().Unchurch());

        signed = </span><span style="color: blue;">new </span><span style="color: #2b91af;">SignedNumeral</span><span style="color: black;">(</span><span style="color: #2b91af;">ChurchTuple</span><span style="color: black;">&lt;</span><span style="color: #2b91af;">Numeral</span><span style="color: black;">, </span><span style="color: #2b91af;">Numeral</span><span style="color: black;">&gt;.Create(23U.Church())(12U.Church()));
        signed = signed.Format();
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(11U == signed.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == signed.Negative().Unchurch());
    }

    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">AddTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">result = a.Add(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 1U.Church().Sign();
        b = 1U.Church().Sign().Negate();
        result = a.Add(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 3U.Church().Sign();
        b = 5U.Church().Sign().Negate();
        result = a.Add(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(2U == result.Negative().Unchurch());
    }

    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">SubtractTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">result = a.Subtract(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 1U.Church().Sign();
        b = 1U.Church().Sign().Negate();
        result = a.Subtract(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(2U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 3U.Church().Sign();
        b = 5U.Church().Sign().Negate();
        result = a.Subtract(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(8U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());
    }

    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">MultiplyTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">result = a.Multiply(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 1U.Church().Sign();
        b = 1U.Church().Sign().Negate();
        result = a.Multiply(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(1U == result.Negative().Unchurch());

        a = 3U.Church().Sign();
        b = 5U.Church().Sign().Negate();
        result = a.Multiply(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(15U == result.Negative().Unchurch());
    }

    [</span><span style="color: #2b91af;">TestMethod</span><span style="color: black;">]
    </span><span style="color: blue;">public void </span><span style="color: black;">DivideByTest()
    {
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">a = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">b = 0U.Church().Sign();
        </span><span style="color: #2b91af;">SignedNumeral </span><span style="color: black;">result = a.DivideBy(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Negative().Unchurch());

        a = 1U.Church().Sign();
        b = 1U.Church().Sign().Negate();
        result = a.DivideBy(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(1U == result.Negative().Unchurch());

        a = 11U.Church().Sign();
        b = 5U.Church().Sign().Negate();
        result = a.DivideBy(b);
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(0U == result.Positive().Unchurch());
        </span><span style="color: #2b91af;">Assert</span><span style="color: black;">.IsTrue(2U == result.Negative().Unchurch());
    }
}</span>


</div>
</body>
</html>
